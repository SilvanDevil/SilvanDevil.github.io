---
title: "网络攻击学习"
tags: ""
---
## CSRF跨站点请求伪造(Cross—Site Request Forgery)

### CSRF攻击原理及过程如下：

1.  用户C打开浏览器，访问受信任网站A，输入用户名和密码请求登录网站A；

2.  在用户信息通过验证后，网站A产生Cookie信息并返回给浏览器，此时用户登录网站A成功，可以正常发送请求到网站A；

3.  用户未退出网站A之前，在同一浏览器中，打开一个TAB页访问网站B；

4.  网站B接收到用户请求后，返回一些攻击性代码，并发出一个请求要求访问第三方站点A；

5.  浏览器在接收到这些攻击性代码后，根据网站B的请求，在用户不知情的情况下携带Cookie信息，向网站A发出请求。网站A并不知道该请求其实是由B发起的，所以会根据用户C的Cookie信息以C的权限处理该请求，导致来自网站B的恶意代码被执行。 

### CSRF防御原理:

        CSRF防护的一个重点是要对“用户凭证”进行校验处理，通过这种机制可以对用户的请求是合法进行判断，判断是不是跨站攻击的行为。因为“用户凭证”是Cookie中存储的，所以防护机制的处理对像也是Cookie的数据，我们要在防护的数据中加入签名校验，并对数据进行生命周期时间管理，就是数据过期管理。
